

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Running pFIRE &mdash; pFIRE 0.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pFIRE 0.2 documentation" href="index.html"/>
        <link rel="next" title="pFIRE Configuration" href="cli_ref.html"/>
        <link rel="prev" title="Installing pFIRE" href="install.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="docs.html" class="icon icon-home"> pFIRE
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing pFIRE</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running pFIRE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#elastic-registration">Elastic Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shirt-compatibility">ShIRT Compatibility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli_ref.html">pFIRE Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">pFIRE Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithm.html">The pFIRE Algorithm</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="docs.html">pFIRE</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="docs.html">Docs</a> &raquo;</li>
        
      <li>Running pFIRE</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/cli_quickstart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="running-pfire">
<h1>Running pFIRE<a class="headerlink" href="#running-pfire" title="Permalink to this headline">¶</a></h1>
<p>Interaction with pFIRE on the command line is achieved through the <cite>pfire</cite> executable. Registration
options are passed to pFIRE through a configuration file. All the available options are documented
in the <a class="reference internal" href="cli_ref.html"><span class="doc">command reference</span></a>.</p>
<div class="section" id="elastic-registration">
<h2>Elastic Registration<a class="headerlink" href="#elastic-registration" title="Permalink to this headline">¶</a></h2>
<p>pFIRE is invoked from the console:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> pfire --help
<span class="go">bash: line 1: pfire: command not found</span>
</pre></div>
</div>
<p>It takes a single argument - the name of a configuration file.  This is a deliberate design
decision to encourage documentation of the performed analysis.  At minimum this configuration file
must detail the path to the fixed image, path to the moved image, and required final spacing of the
map nodes. It also takes various optional arguments allowing customisation of the registration
process and outputs. pFIRE will automatically identify and open all supported file formats.  The
currently non-exhaustive list includes: <cite>dicom</cite>, ShIRT <cite>.image</cite> and <cite>.mask</cite> files, and the majority
of common 2-dimensional image formats via the OpenImageIO library.</p>
<p>A minimal usage example would be:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">fixed</span> <span class="o">=</span> <span class="s">fixed_image.dcm</span>
<span class="na">moved</span> <span class="o">=</span> <span class="s">&quot;moved image.dcm&quot;</span>
<span class="na">nodespacing</span> <span class="o">=</span> <span class="s">10</span>
</pre></div>
</div>
<p>This will register <cite>fixed_image.dcm</cite> to <cite>moved image.dcm</cite> with a nodespacing of 10 pixels, note that if
the filename contains spaces it must be enclosed in quotes. In this case the output map and
registered image will be saved to the default hdf5+xdmf format with filenames <code class="docutils literal notranslate"><span class="pre">registered.xdmf</span></code>
and <code class="docutils literal notranslate"><span class="pre">map.xdmf</span></code>.</p>
</div>
<div class="section" id="shirt-compatibility">
<h2>ShIRT Compatibility<a class="headerlink" href="#shirt-compatibility" title="Permalink to this headline">¶</a></h2>
<p>pFIRE is designed to be compatible with ShIRT both algorithmically and practically.  Therefore we
provide a way to use pFIRE as a drop in replacement for <code class="docutils literal notranslate"><span class="pre">ShIRT</span> <span class="pre">Register</span></code> in existing workflows.
If the executable is invoked with the name <cite>shirt</cite> or <cite>pfire-shirt</cite> (either by renaming or using a
symlink) then pFIRE will interpret command line input using the ShIRT syntax.  In this mode the
output formats are fixed as ShIRT format for use with existing analysis workflows.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># symlink example</span>
$ ln -s ./pfire ./pfire-shirt
$ pfire-shirt register fixed fixed.image moved moved.image nodespacing <span class="m">10</span>

<span class="c1"># copy example</span>
$ cp -s ./pfire ./shirt
$ shirt register fixed fixed.image moved moved.image mask mask.mask nodespacing <span class="m">10</span>
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cli_ref.html" class="btn btn-neutral float-right" title="pFIRE Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install.html" class="btn btn-neutral" title="Installing pFIRE" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 2018, University of Sheffield. 
	</p>
	<p>
	Development of pFIRE is supported by the European Union’s Horizon 2020
	research and innovation programme under grant agreement No 675451.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>